{% extends "voiture/user/navUser.html" %}
{% block content %}


{% if messages %}
<div class="mb-4">
    {% for message in messages %}
    <div class="
        p-3 rounded-lg mb-2 text-white
        {% if message.tags == 'success' %} bg-green-600 {% endif %}
        {% if message.tags == 'error' %} bg-red-600 {% endif %}
    ">
        {{ message }}
    </div>
    {% endfor %}
</div>
{% endif %}


<div class="container mx-auto px-4 py-10">
    <div class="flex flex-col md:flex-row md:space-x-10 space-y-6 md:space-y-0 items-center">

        <!-- Image voiture -->
        <div class="w-full md:w-1/2">
            {% if voiture.photo %}
                <img src="{{ voiture.photo.url }}" alt="{{ voiture.modele.nom }}"
                     class="rounded-2xl shadow-lg w-full h-auto object-cover transition-transform duration-500 hover:scale-105 hover:shadow-2xl">
            {% else %}
                <div class="bg-gray-200 rounded-2xl w-full h-64 flex items-center justify-center text-gray-400">
                    Pas d'image disponible
                </div>
            {% endif %}
        </div>

        <!-- Infos voiture -->
        <div class="w-full md:w-1/2 space-y-4">
            <h2 class="text-3xl font-bold text-orange-500 hover:text-orange-600 transition-colors">
                {{ voiture.modele.nom }}
            </h2>
            <h4 class="text-xl font-semibold text-red-600">
                Prix : {{ voiture.prix }} $
            </h4>

            <p class="text-gray-700"><span class="font-semibold">Marque :</span> {{ voiture.marque.nom }}</p>
            <p class="text-gray-700"><span class="font-semibold">Châssis :</span> {{ voiture.numero_chassis }}</p>
            <p class="text-gray-700"><span class="font-semibold">État :</span> {{ voiture.etat }}</p>
            <p class="text-gray-700"><span class="font-semibold">Date d'ajout :</span> {{ voiture.date_ajout }}</p>

            {% if voiture.etat == "Disponible" %}
                <a href="{% url 'reserver_voiture' voiture.id %}"
                   class="inline-flex items-center px-6 py-3 bg-red-600 text-white font-semibold rounded-full shadow-lg hover:bg-red-700 hover:shadow-xl transition-all duration-300">
                   <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                     <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 17v-6h6v6m2 0h2a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v8a2 2 0 002 2h2" />
                   </svg>
                   Réserver
                </a>
            {% else %}
                <button class="px-6 py-3 bg-gray-400 text-white font-semibold rounded-full cursor-not-allowed opacity-70">
                    Non disponible
                </button>
            {% endif %}
        </div>
    </div>
</div>

{% endblock content %}
