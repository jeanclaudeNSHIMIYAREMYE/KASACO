{% extends "voiture/navigation.html" %}
{% load widget_tweaks %}
{% block content %}
{% load static %}

<!-- Fond de page -->
<div class="min-h-screen bg-cover bg-center relative" style="background-image: url('{% static 'images/honda.jpg' %}');">

    <!-- Overlay color√© et flou pour effet moderne -->
    <div class="absolute inset-0 bg-gradient-to-r from-purple-600 via-pink-500 to-red-500 bg-opacity-60 backdrop-blur-sm"></div>

    <!-- Contenu centr√© -->
    <div class="relative z-10 flex items-center justify-center min-h-screen px-4">

        <!-- Card -->
        <div class="bg-white bg-opacity-90 rounded-3xl shadow-2xl overflow-hidden w-full max-w-md sm:max-w-lg md:max-w-xl animate-fadeIn hover:shadow-3xl transition-shadow duration-500">

            <!-- Header -->
            <div class="text-center py-6 bg-gradient-to-r from-purple-500 via-pink-400 to-red-500 text-white">
                <h4 class="text-2xl sm:text-3xl font-extrabold tracking-wide animate-pulse">üîê Nouveau mot de passe</h4>
                <p class="text-pink-100 mt-1 text-sm sm:text-base">Entrez votre nouveau mot de passe pour continuer</p>
            </div>

            <!-- Body -->
            <div class="px-6 sm:px-8 py-6 sm:py-8">

                <!-- Messages Django -->
                {% if messages %}
                    {% for message in messages %}
                        <div class="mb-4 px-4 py-3 rounded-lg text-sm {{ message.tags|default:'bg-red-100 text-red-700' }}">
                            {{ message }}
                        </div>
                    {% endfor %}
                {% endif %}

                <!-- Form -->
                <form method="POST" class="space-y-5 sm:space-y-6">
                    {% csrf_token %}

                    <div>
                        <label class="block text-gray-700 font-medium mb-2">Nouveau mot de passe</label>
                        <input
                            type="password"
                            name="password"
                            class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-pink-400 focus:border-pink-400 shadow-sm transition-all duration-300 hover:shadow-lg"
                            placeholder="Entrez un nouveau mot de passe"
                            required>
                    </div>

                    <div>
                        <label class="block text-gray-700 font-medium mb-2">Confirmation</label>
                        <input
                            type="password"
                            name="password_confirm"
                            class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-pink-400 focus:border-pink-400 shadow-sm transition-all duration-300 hover:shadow-lg"
                            placeholder="Confirmez le mot de passe"
                            required>
                    </div>

                    <button type="submit" class="w-full py-3 rounded-xl bg-gradient-to-r from-purple-500 via-pink-500 to-red-500 text-white font-semibold tracking-wide hover:from-pink-500 hover:to-purple-600 transition-all shadow-lg transform hover:scale-105">
                        Modifier le mot de passe
                    </button>
                </form>

            </div>
        </div>

    </div>

    <!-- Link -->
    <p class="text-center mt-6 text-white relative z-10 text-sm sm:text-base">
        <a href="{% url 'login' %}" class="font-medium text-pink-100 hover:text-white hover:underline">
            ‚Üê Retour √† la connexion
        </a>
    </p>
</div>

<!-- Animations -->
<style>
@keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
}
.animate-fadeIn {
    animation: fadeIn 0.6s ease-in-out;
}

@keyframes pulse {
    0%, 100% { opacity: 1; transform: scale(1); }
    50% { opacity: 0.8; transform: scale(1.05); }
}
.animate-pulse {
    animation: pulse 2s infinite;
}
</style>

{% endblock content %}
