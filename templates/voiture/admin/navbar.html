<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Administrateur</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" rel="stylesheet">
    <!-- DataTables CSS -->
    <link href="https://cdn.datatables.net/1.13.7/css/dataTables.bootstrap5.min.css" rel="stylesheet">

    <style>
        body {
            background-color: #f5f6fa;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        /* Sidebar */
        .sidebar {
            width: 250px;
            background: #1e1f23;
        }
        .sidebar a {
            color: #cfd2d6;
            padding: 12px;
            border-radius: 6px;
            transition: 0.3s;
        }
        .sidebar a:hover {
            background: #343a40;
            color: #fff;
        }
        .sidebar .nav-link.active {
            background: #0d6efd;
            color: #fff;
        }

        /* Cards */
        .card {
            border-radius: 15px;
            background: #ffffff;
            box-shadow: 0 4px 20px rgba(0,0,0,0.05);
            transition: 0.3s ease;
        }
        .card:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        }

        /* Badges état voiture */
        .badge-disponible { background-color: #28a745; }
        .badge-reservee { background-color: #ffc107; color: black; }
        .badge-vendue { background-color: #dc3545; }

        /* Table */
        .table thead {
            background-color: #343a40;
            color: white;
        }
        .table-striped > tbody > tr:nth-of-type(odd) {
            background-color: #f1f3f5;
        }
    </style>
</head>

<body>
<div class="d-flex">

    <!-- Sidebar -->
    <nav class="sidebar d-flex flex-column p-3 text-white vh-100">

        <a href="#" class="d-flex align-items-center mb-4 text-decoration-none">
            <i class="fa fa-user-cog fa-2x me-2"></i>
            <span class="fs-4 fw-semibold">VENDEUR</span>
        </a>
        <hr class="text-secondary">

        <ul class="nav nav-pills flex-column mb-auto">
            <li><a href="{% url 'dashboard_admin' %}" class="nav-link active"><i class="fa fa-tachometer-alt me-2"></i> Dashboard</a></li>
            <li><a href="{% url 'utilisateurs_list' %}" class="nav-link"><i class="fa fa-user me-2"></i> Utilisateurs</a></li>
            <li><a href="{% url 'liste_marques' %}" class="nav-link"><i class="fa fa-tags me-2"></i> Marques</a></li>
            <li><a href="{% url 'liste_modeles' %}" class="nav-link"><i class="fa fa-pencil-alt me-2"></i> Modèles</a></li>
            <li><a href="{% url 'liste_voitures' %}" class="nav-link"><i class="fa fa-car me-2"></i> Voitures</a></li>
            <li><a href="{% url 'reserver' %}" class="nav-link"><i class="fa fa-book me-2"></i> Réservations</a></li>
            <li><a href="#contactSection" class="nav-link"><i class="fa fa-envelope me-2"></i> Contact</a></li>
            <li><a href="{% url 'logout' %}" class="nav-link"><i class="fa fa-cogs me-2"></i> Deconnexion</a></li>
        </ul>

    </nav>

    <!-- Contenu principal -->
    <div class="flex-grow-1 p-4">

        {% block content %}
        <!-- Ton contenu Django va ici -->
        {% endblock content %}

    </div>
</div>

<!-- ================= SCRIPTS ================= -->

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>

<!-- DataTables -->
<script src="https://cdn.datatables.net/1.13.7/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.13.7/js/dataTables.bootstrap5.min.js"></script>

<!-- ChartJS -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>
    // Graphique Donut Voitures
    const ctxVoitures = document.getElementById('voituresChart');
    if (ctxVoitures) {
        new Chart(ctxVoitures, {
            type: 'doughnut',
            data: {
                labels: ['Disponible', 'Réservée', 'Vendue'],
                datasets: [{
                    data: [20, 15, 10],
                    backgroundColor: ['#28a745', '#ffc107', '#dc3545']
                }]
            },
            options: { responsive: true, plugins: { legend: { position: 'bottom' } } }
        });
    }

    // Graphique Bar Réservations
    const ctxRes = document.getElementById('reservationsChart');
    if (ctxRes) {
        new Chart(ctxRes, {
            type: 'bar',
            data: {
                labels: ['Lun','Mar','Mer','Jeu','Ven','Sam','Dim'],
                datasets: [{
                    label: 'Réservations',
                    data: [2,4,1,5,3,2,1],
                    backgroundColor: '#0d6efd'
                }]
            },
            options: { responsive: true, scales: { y: { beginAtZero: true } } }
        });
    }
</script>

</body>
</html>
